{"version":3,"file":"peppermint-router.esm.js","sources":["../src/utils.ts","../src/hashRouter.ts","../src/RouterContext.tsx","../src/Route.tsx","../src/RouterView.tsx"],"sourcesContent":["export function removeStart(str: string, ...toRemove: string[]): string {\r\n    return removeSide(\r\n        str,\r\n        /^(\\s*[\\r\\n]*)*/,\r\n        String.prototype.startsWith,\r\n        (s, tr) => s.substring(tr.length),\r\n        ...toRemove\r\n    );\r\n}\r\n\r\nexport function removeEnd(str: string, ...toRemove: string[]): string {\r\n    return removeSide(\r\n        str,\r\n        /(\\s*[\\r\\n]*)*$/,\r\n        String.prototype.endsWith,\r\n        (s, tr) => s.substring(0, s.length - tr.length),\r\n        ...toRemove\r\n    );\r\n}\r\n\r\nfunction removeSide(\r\n    str: string,\r\n    whitespaceReplacePattern: RegExp,\r\n    shouldRemove: (trimStr: string) => boolean,\r\n    remove: (str: string, trimStr: string) => string,\r\n    ...toRemove: string[]\r\n): string {\r\n\r\n    // input validation\r\n    if (typeof str !== \"string\") {\r\n        throw new Error(`Missing arguement '${nameof(str)}'.`);\r\n    }\r\n    if (!toRemove.every(tr => typeof tr === 'string')) {\r\n        throw new Error(`Invalid argument '${toRemove}'. Only strings expected.`);\r\n    }\r\n\r\n    // default behavior: trim white spaces\r\n    if (!toRemove.length) {\r\n        return str.replace(whitespaceReplacePattern, \"\");\r\n    }\r\n\r\n    // trim specified patterns\r\n    let result = str.substring(0);\r\n    let keepRunning = true;\r\n    while (result.length && keepRunning) {\r\n        keepRunning = false;\r\n        for (const trimStr of toRemove) {\r\n            if (!shouldRemove.call(result, trimStr))\r\n                continue;\r\n            result = remove(result, trimStr);\r\n            keepRunning = true;\r\n        }\r\n    }\r\n\r\n    return result;\r\n}","import { IMap } from './types';\r\nimport { removeStart, removeEnd } from './utils';\r\n\r\n// originally based on PathJS: https://github.com/mtrpcic/pathjs\r\n\r\nexport type RouteParams = IMap<string>;\r\n\r\nexport type RouteAction = (params: RouteParams) => void;\r\n\r\nexport type BeforeNavigationHandler = (nextPath: string) => Promise<boolean>;\r\n\r\nexport type BeforeUnloadHandler = () => string;\r\n\r\ninterface Route {\r\n    path: string;\r\n    action: RouteAction;\r\n}\r\n\r\ninterface RouteMatchResult {\r\n    route: Route;\r\n    params: RouteParams;\r\n}\r\n\r\nexport class HashRouter {\r\n\r\n    //\r\n    // public members\r\n    //\r\n\r\n    public fallback: VoidFunction;\r\n    /**\r\n     * Triggered when a navigation inside the application takes place.  \r\n     * Return `false` to cancel navigation.\r\n     */\r\n    public get onBeforeNavigation(): BeforeNavigationHandler {\r\n        return this._onBeforeNavigation;\r\n    }\r\n    public set onBeforeNavigation(value: BeforeNavigationHandler) {\r\n\r\n        // prevent accidental overwrites\r\n        if (value && this._onBeforeNavigation) {\r\n            throw new Error(\r\n                `${nameof(this.onBeforeNavigation)} handler already exists. Remove the old one before assigning a new handler.`\r\n            );\r\n        }\r\n\r\n        this._onBeforeNavigation = value;\r\n    }\r\n    /**\r\n     * Triggered when a navigation to another site takes place.\r\n     * Return a message to show to the user.  \r\n     */\r\n    public get onBeforeUnload(): BeforeUnloadHandler {\r\n        return this._onBeforeUnload;\r\n    }\r\n    public set onBeforeUnload(value: BeforeUnloadHandler) {\r\n\r\n        // prevent accidental overwrites\r\n        if (value && this._onBeforeUnload) {\r\n            throw new Error(\r\n                `${nameof(this.onBeforeUnload)} handler already exists. Remove the old one before assigning a new handler.`\r\n            );\r\n        }\r\n\r\n        this._onBeforeUnload = value;\r\n    }\r\n    public get currentRoute(): string {\r\n        return this._currentRoute;\r\n    }\r\n\r\n    //\r\n    // private members\r\n    //\r\n\r\n    private _onBeforeNavigation: BeforeNavigationHandler;\r\n    private _onBeforeUnload: BeforeUnloadHandler;\r\n    private _currentRoute: string;\r\n    private readonly routes: IMap<Route> = {};\r\n\r\n    //\r\n    // public methods\r\n    //\r\n\r\n    public mapPath(path: string, action: RouteAction) {\r\n        path = this.normalizePath(path);\r\n        this.routes[path] = { path, action };\r\n    }\r\n\r\n    public goTo(path: string) {\r\n        path = this.normalizePath(path);\r\n        location.hash = '#/' + path;\r\n    }\r\n\r\n    public goBack() {\r\n        window.history.back();\r\n    }\r\n\r\n    public listen() {\r\n\r\n        // register unload handler\r\n        window.addEventListener('beforeunload', e => {\r\n            const promptMessage = (this.onBeforeUnload ? this.onBeforeUnload() : undefined);\r\n            if (promptMessage) {\r\n                e.returnValue = promptMessage;\r\n            }\r\n            return promptMessage;\r\n        });\r\n\r\n        // listen to hash changes\r\n        window.addEventListener('hashchange', this.handleHashChanged);\r\n\r\n        // handle initial route\r\n        if (location.hash === '') {\r\n            location.hash = '#/';\r\n\r\n        } else {\r\n            this.handleHashChanged();\r\n        }\r\n    }\r\n\r\n    //\r\n    // private methods\r\n    //\r\n\r\n    private handleHashChanged = async (): Promise<void> => {\r\n        let path = location.hash;\r\n\r\n        // normalize path\r\n        path = this.normalizePath(path);\r\n\r\n        // don't re-navigate to the same page\r\n        if (path === this._currentRoute)\r\n            return;\r\n\r\n        // find the route to active\r\n        const matchResult = this.match(path);\r\n\r\n        // invoke beforeNavigation handler\r\n        if (this.onBeforeNavigation) {\r\n            const nextPath = matchResult && matchResult.route.path;\r\n            const stopNavigation = (await this.onBeforeNavigation(nextPath) === false);\r\n            if (stopNavigation) {\r\n\r\n                // restore location hash\r\n                window.history.replaceState(null, null, this._currentRoute);\r\n                this.goTo(this._currentRoute);\r\n                return;\r\n            }\r\n        }\r\n\r\n        // activate route\r\n        this._currentRoute = path;\r\n        if (matchResult) {\r\n            matchResult.route.action(matchResult.params);\r\n            return;\r\n        }\r\n\r\n        // route fallback\r\n        if (this.fallback) {\r\n            this.fallback();\r\n        }\r\n    };\r\n\r\n    private match(pathToMatch: string): RouteMatchResult {\r\n\r\n        for (const routePath of Object.keys(this.routes)) {\r\n\r\n            const route = this.routes[routePath];\r\n\r\n            // handle route parameters\r\n            const params: IMap<string> = {};\r\n            const routeToMatchParts = pathToMatch.split('/');\r\n            if (routePath.search(/:/) > 0) {\r\n\r\n                const routeParts = routePath.split('/');\r\n\r\n                for (let i = 0; i < routeParts.length; i++) {\r\n\r\n                    // skip non-param parts\r\n                    const paramPart = routeParts[i];\r\n                    if (!paramPart || paramPart[0] !== ':')\r\n                        continue;\r\n\r\n                    // stop if done processing\r\n                    if (i >= routeToMatchParts.length)\r\n                        break;\r\n\r\n                    // store the parameter\r\n                    const paramName = paramPart.slice(1);\r\n                    const paramValue = routeToMatchParts[i];\r\n                    params[paramName] = paramValue;\r\n\r\n                    // normalize the path to match\r\n                    routeToMatchParts[i] = paramPart;\r\n                }\r\n            }\r\n\r\n            // check if match\r\n            const normalizedPathToMatch = routeToMatchParts.join('/');\r\n            if (routePath === normalizedPathToMatch) {\r\n                return {\r\n                    route,\r\n                    params\r\n                };\r\n            }\r\n        }\r\n\r\n        return null;\r\n    }\r\n\r\n    private normalizePath(path: string): string {\r\n        path = (path || '');\r\n        path = removeStart(path, '#', '/');\r\n        path = removeEnd(path, '/');\r\n        return path;\r\n    }\r\n}","import * as React from 'react';\r\nimport { HashRouter, RouteParams } from './hashRouter';\r\n\r\nexport interface CurrentRoute {\r\n    path: string;\r\n    params: RouteParams;\r\n}\r\n\r\nexport interface RouterContext {\r\n    router: HashRouter;\r\n    currentRoute: CurrentRoute;\r\n    setCurrentRoute: (route: CurrentRoute) => void;\r\n}\r\n\r\nexport const { Provider: RouterProvider, Consumer: RouterConsumer } = React.createContext<RouterContext>(undefined);","import * as React from 'react';\r\nimport { RouteParams } from './hashRouter';\r\nimport { RouterConsumer, RouterContext } from './RouterContext';\r\n\r\nexport interface RouteProps {\r\n    path: string;\r\n    component: React.ComponentType<any>;\r\n}\r\n\r\nexport class Route extends React.PureComponent<RouteProps> {\r\n\r\n    public render() {\r\n        return (\r\n            <RouterConsumer>\r\n                {this.renderRoute}\r\n            </RouterConsumer>\r\n        );\r\n    }\r\n\r\n    private renderRoute = (context: RouterContext) => {\r\n\r\n        console.warn('route render');\r\n\r\n        this.registerRoute(context);\r\n\r\n        if (this.props.path !== context.currentRoute.path)\r\n            return null;\r\n\r\n        console.warn('actual render');\r\n\r\n        return (\r\n            React.createElement(\r\n                this.props.component,\r\n                {\r\n                    route: context.currentRoute\r\n                }\r\n            )\r\n        );\r\n    };\r\n\r\n    private registerRoute(context: RouterContext) {\r\n        context.router.mapPath(this.props.path, (params: RouteParams) => {\r\n            context.setCurrentRoute({\r\n                path: this.props.path,\r\n                params\r\n            });\r\n        });\r\n    }\r\n}","import * as React from 'react';\r\nimport { HashRouter } from './hashRouter';\r\nimport { RouterProvider, CurrentRoute } from './RouterContext';\r\n\r\nexport interface RouterViewProps {\r\n    routerRef?: (router: HashRouter) => void;\r\n}\r\n\r\nclass RouterViewState {\r\n    public currentRoute: CurrentRoute = {\r\n        path: undefined,\r\n        params: undefined\r\n    };\r\n}\r\n\r\nexport class RouterView extends React.PureComponent<RouterViewProps, RouterViewState> {\r\n\r\n    private router = new HashRouter();\r\n\r\n    constructor(props: RouterViewProps) {\r\n        super(props);\r\n        this.state = new RouterViewState();\r\n    }\r\n\r\n    public render() {\r\n\r\n        if (this.props.routerRef) {\r\n            this.props.routerRef(this.router);\r\n        }\r\n\r\n        return (\r\n            <RouterProvider\r\n                value={{\r\n                    router: this.router,\r\n                    currentRoute: this.state.currentRoute,\r\n                    setCurrentRoute: this.setCurrentRoute\r\n                }}\r\n            >\r\n                {this.props.children}\r\n            </RouterProvider>\r\n        );\r\n    }\r\n\r\n    private setCurrentRoute = (currentRoute: CurrentRoute) => {\r\n        this.setState({\r\n            currentRoute\r\n        });\r\n    };\r\n}"],"names":["removeStart","str","toRemove","removeSide","String","prototype","startsWith","s","tr","substring","length","removeEnd","endsWith","whitespaceReplacePattern","shouldRemove","remove","Error","every","replace","result","keepRunning","trimStr","call","HashRouter","path","location","hash","normalizePath","_currentRoute","matchResult","match","onBeforeNavigation","nextPath","route","stopNavigation","window","history","replaceState","goTo","action","params","fallback","_onBeforeNavigation","value","onBeforeUnload","_onBeforeUnload","currentRoute","mapPath","routes","goBack","back","listen","addEventListener","e","promptMessage","undefined","returnValue","handleHashChanged","pathToMatch","routePath","Object","keys","routeToMatchParts","split","search","routeParts","i","paramPart","paramName","slice","paramValue","normalizedPathToMatch","join","Provider","RouterProvider","Consumer","RouterConsumer","React","Route","context","console","warn","registerRoute","props","component","render","React.createElement","renderRoute","router","setCurrentRoute","RouterViewState","RouterView","constructor","setState","state","routerRef","children"],"mappings":"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"}